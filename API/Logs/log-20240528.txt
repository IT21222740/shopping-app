2024-05-28 09:31:43.746 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:31:44.276 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:31:44.281 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:31:44.291 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:31:44.296 +05:30  INF  Hosting environment: Development
2024-05-28 09:31:44.300 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:31:53.076 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:31:54.185 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:31:54.187 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 1124.0054ms
2024-05-28 09:31:54.185 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:31:54.289 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 103.4394ms
2024-05-28 09:31:54.392 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.2741ms
2024-05-28 09:31:54.484 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:31:54.911 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 427.5235ms
2024-05-28 09:34:22.715 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:34:23.018 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:34:23.022 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:34:23.031 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:34:23.034 +05:30  INF  Hosting environment: Development
2024-05-28 09:34:23.038 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:34:28.828 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:34:29.219 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 399.1097ms
2024-05-28 09:34:29.235 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:34:29.235 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:34:29.251 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 16.5921ms
2024-05-28 09:34:29.284 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.2698ms
2024-05-28 09:34:29.346 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:34:29.552 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.8897ms
2024-05-28 09:36:42.873 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:36:43.280 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:36:43.283 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:36:43.290 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:36:43.294 +05:30  INF  Hosting environment: Development
2024-05-28 09:36:43.296 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:36:52.149 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:36:52.546 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 408.3727ms
2024-05-28 09:36:52.584 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:36:52.584 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:36:52.609 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 25.4085ms
2024-05-28 09:36:52.652 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.7057ms
2024-05-28 09:36:52.704 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:36:52.911 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.7602ms
2024-05-28 09:37:03.953 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:37:04.333 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:37:04.337 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:37:04.346 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:37:04.351 +05:30  INF  Hosting environment: Development
2024-05-28 09:37:04.355 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:37:11.735 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:37:12.204 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 483.7909ms
2024-05-28 09:37:12.226 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:37:12.226 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:37:12.254 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 29.0744ms
2024-05-28 09:37:12.315 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.4103ms
2024-05-28 09:37:12.385 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:37:12.807 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 423.1409ms
2024-05-28 09:37:26.466 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:37:26.488 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 22.0491ms
2024-05-28 09:37:26.518 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:37:26.521 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:37:26.534 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 13.3548ms
2024-05-28 09:37:26.549 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8183ms
2024-05-28 09:37:26.568 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:37:26.602 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.8088ms
2024-05-28 09:37:39.956 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:37:40.255 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:37:40.259 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:37:40.266 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:37:40.270 +05:30  INF  Hosting environment: Development
2024-05-28 09:37:40.273 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:37:47.391 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:37:47.823 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 441.1402ms
2024-05-28 09:37:47.855 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:37:47.855 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:37:47.889 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 33.4677ms
2024-05-28 09:37:47.964 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 108.6356ms
2024-05-28 09:37:48.022 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:37:48.255 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 233.9186ms
2024-05-28 09:38:45.568 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:38:45.870 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:38:45.874 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:38:45.881 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:38:45.885 +05:30  INF  Hosting environment: Development
2024-05-28 09:38:45.888 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:38:51.004 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:38:51.390 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 393.9144ms
2024-05-28 09:38:51.411 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:38:51.411 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:38:51.431 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 21.8364ms
2024-05-28 09:38:51.502 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.3131ms
2024-05-28 09:38:51.590 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:38:51.834 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 244.8166ms
2024-05-28 09:42:39.380 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 09:42:40.818 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 09:42:40.822 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 09:42:40.834 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 09:42:40.841 +05:30  INF  Hosting environment: Development
2024-05-28 09:42:40.845 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 09:42:42.797 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 09:42:43.457 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 673.3549ms
2024-05-28 09:42:43.474 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 09:42:43.474 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 09:42:43.494 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 18.2188ms
2024-05-28 09:42:43.699 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 224.9096ms
2024-05-28 09:42:43.815 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 09:42:44.209 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 393.3763ms
2024-05-28 10:03:01.098 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 268
2024-05-28 10:03:01.263 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:03:01.305 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 10:03:02.551 +05:30  INF  Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-28 10:03:02.595 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 1284.8144ms
2024-05-28 10:03:02.611 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:03:02.622 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 400 null application/json; charset=utf-8 1524.7608ms
2024-05-28 10:07:47.771 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 10:07:48.033 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 10:07:48.036 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 10:07:48.043 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 10:07:48.046 +05:30  INF  Hosting environment: Development
2024-05-28 10:07:48.049 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 10:07:48.549 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 10:07:48.892 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 353.2727ms
2024-05-28 10:07:48.916 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 10:07:48.916 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 10:07:48.937 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 21.1837ms
2024-05-28 10:07:48.964 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1026ms
2024-05-28 10:07:49.033 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 10:07:49.202 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.6875ms
2024-05-28 10:14:15.488 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 250
2024-05-28 10:14:15.584 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:14:15.621 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 10:14:20.590 +05:30  INF  Executed DbCommand (80ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 10:14:20.721 +05:30  INF  Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 10:14:21.949 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 10:14:21.962 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 6333.8852ms
2024-05-28 10:14:21.964 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:14:21.975 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 6487.6123ms
2024-05-28 10:20:34.075 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 10:20:34.110 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 35.9336ms
2024-05-28 10:20:34.145 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 10:20:34.145 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 10:20:34.151 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 5.8927ms
2024-05-28 10:20:34.184 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3209ms
2024-05-28 10:20:34.325 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 10:20:34.360 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.6725ms
2024-05-28 10:23:56.576 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 256
2024-05-28 10:23:56.591 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:23:56.598 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 10:23:59.197 +05:30  INF  Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 10:23:59.211 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 10:24:00.108 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 10:24:00.113 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 3512.5689ms
2024-05-28 10:24:00.115 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 10:24:00.117 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 3541.6593ms
2024-05-28 10:26:57.121 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 10:26:57.150 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 29.6529ms
2024-05-28 10:26:57.188 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 10:26:57.188 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 10:26:57.193 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 5.3078ms
2024-05-28 10:26:57.217 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.2817ms
2024-05-28 10:26:57.418 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 10:26:57.454 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.3741ms
2024-05-28 10:54:30.929 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 73
2024-05-28 10:54:30.938 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 10:54:30.943 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 10:54:39.606 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 10:54:39.609 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 8659.36ms
2024-05-28 10:54:39.611 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 10:54:39.613 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 8683.3976ms
2024-05-28 11:00:16.306 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/products-by-id/1 - null null
2024-05-28 11:00:17.208 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:00:17.218 +05:30  INF  Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Application.DTOs.ServiceResponse] GetProductById(Int32) on controller API.Controllers.ProductController (API).
2024-05-28 11:00:18.806 +05:30  INF  Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
WHERE [p].[ProductId] = @__id_0
2024-05-28 11:00:18.826 +05:30  INF  Executing ObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:00:18.842 +05:30  INF  Executed action API.Controllers.ProductController.GetProductById (API) in 1619.6319ms
2024-05-28 11:00:18.846 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:00:18.848 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/products-by-id/1 - 200 null application/json; charset=utf-8 2543.0227ms
2024-05-28 11:00:57.766 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/products-by-id/2 - null null
2024-05-28 11:00:57.782 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:00:57.784 +05:30  INF  Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Application.DTOs.ServiceResponse] GetProductById(Int32) on controller API.Controllers.ProductController (API).
2024-05-28 11:00:57.805 +05:30  INF  Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
WHERE [p].[ProductId] = @__id_0
2024-05-28 11:00:57.808 +05:30  INF  Executing ObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:00:57.811 +05:30  INF  Executed action API.Controllers.ProductController.GetProductById (API) in 24.9806ms
2024-05-28 11:00:57.813 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:00:57.814 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/products-by-id/2 - 200 null application/json; charset=utf-8 49.6081ms
2024-05-28 11:01:16.099 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/products-by-id/3 - null null
2024-05-28 11:01:16.103 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:01:16.105 +05:30  INF  Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Application.DTOs.ServiceResponse] GetProductById(Int32) on controller API.Controllers.ProductController (API).
2024-05-28 11:01:16.126 +05:30  INF  Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
WHERE [p].[ProductId] = @__id_0
2024-05-28 11:01:16.130 +05:30  INF  Executing ObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:01:16.132 +05:30  INF  Executed action API.Controllers.ProductController.GetProductById (API) in 24.8221ms
2024-05-28 11:01:16.134 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProductById (API)'
2024-05-28 11:01:16.135 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/products-by-id/3 - 200 null application/json; charset=utf-8 36.0785ms
2024-05-28 11:01:33.027 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/products-by-category/1 - null null
2024-05-28 11:01:33.030 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProductsByCategory (API)'
2024-05-28 11:01:33.035 +05:30  INF  Route matched with {action = "GetProductsByCategory", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProductsByCategory(Int32) on controller API.Controllers.ProductController (API).
2024-05-28 11:01:33.061 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
WHERE [p].[ProductCategoryId] = @__categoryId_0
2024-05-28 11:01:33.067 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:01:33.071 +05:30  INF  Executed action API.Controllers.ProductController.GetProductsByCategory (API) in 33.1839ms
2024-05-28 11:01:33.073 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProductsByCategory (API)'
2024-05-28 11:01:33.075 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/products-by-category/1 - 200 null application/json; charset=utf-8 48.2761ms
2024-05-28 11:01:38.941 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/products-by-category/2 - null null
2024-05-28 11:01:38.952 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProductsByCategory (API)'
2024-05-28 11:01:38.955 +05:30  INF  Route matched with {action = "GetProductsByCategory", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProductsByCategory(Int32) on controller API.Controllers.ProductController (API).
2024-05-28 11:01:38.967 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
WHERE [p].[ProductCategoryId] = @__categoryId_0
2024-05-28 11:01:38.971 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:01:38.973 +05:30  INF  Executed action API.Controllers.ProductController.GetProductsByCategory (API) in 14.1323ms
2024-05-28 11:01:38.975 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProductsByCategory (API)'
2024-05-28 11:01:38.978 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/products-by-category/2 - 200 null application/json; charset=utf-8 36.3483ms
2024-05-28 11:01:46.992 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/all-products - null null
2024-05-28 11:01:46.997 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:01:47.003 +05:30  INF  Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProducts() on controller API.Controllers.ProductController (API).
2024-05-28 11:01:47.033 +05:30  INF  Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
2024-05-28 11:01:47.040 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:01:47.042 +05:30  INF  Executed action API.Controllers.ProductController.GetProducts (API) in 33.2962ms
2024-05-28 11:01:47.044 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:01:47.045 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/all-products - 200 null application/json; charset=utf-8 52.7507ms
2024-05-28 11:02:04.681 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 37
2024-05-28 11:02:04.731 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:02:04.737 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:02:04.775 +05:30  INF  Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:02:04.816 +05:30  INF  Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:02:04.824 +05:30  INF  Cart item successfully added
2024-05-28 11:02:04.826 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:02:04.828 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 85.4893ms
2024-05-28 11:02:04.829 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:02:04.831 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 150.396ms
2024-05-28 11:02:11.089 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 37
2024-05-28 11:02:11.098 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:02:11.099 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:02:11.140 +05:30  INF  Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:02:11.153 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:02:11.160 +05:30  INF  Cart item successfully added
2024-05-28 11:02:11.161 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:02:11.162 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 59.5652ms
2024-05-28 11:02:11.164 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:02:11.166 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 77.2667ms
2024-05-28 11:09:36.109 +05:30  INF  Request starting HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - application/json 37
2024-05-28 11:09:36.120 +05:30  INF  Executing endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:09:36.124 +05:30  INF  Route matched with {action = "ModifyCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ModifyCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:09:37.233 +05:30  INF  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:09:37.264 +05:30  INF  Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserProducts] SET [Quantity] = @p0
OUTPUT 1
WHERE [ProductId] = @p1 AND [userId] = @p2;
2024-05-28 11:09:37.271 +05:30  INF  Cart Items updated Sucessfully
2024-05-28 11:09:37.273 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:09:37.275 +05:30  INF  Executed action API.Controllers.CartController.ModifyCart (API) in 1148.568ms
2024-05-28 11:09:37.282 +05:30  INF  Executed endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:09:37.285 +05:30  INF  Request finished HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - 200 null application/json; charset=utf-8 1176.6709ms
2024-05-28 11:16:30.786 +05:30  INF  Request starting HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - application/json 37
2024-05-28 11:16:30.798 +05:30  INF  Executing endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:16:30.799 +05:30  INF  Route matched with {action = "ModifyCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ModifyCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:16:31.877 +05:30  INF  Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:16:31.889 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserProducts] SET [Quantity] = @p0
OUTPUT 1
WHERE [ProductId] = @p1 AND [userId] = @p2;
2024-05-28 11:16:31.897 +05:30  INF  Cart Items updated Sucessfully
2024-05-28 11:16:31.898 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:16:31.900 +05:30  INF  Executed action API.Controllers.CartController.ModifyCart (API) in 1097.8918ms
2024-05-28 11:16:31.909 +05:30  INF  Executed endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:16:31.912 +05:30  INF  Request finished HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - 200 null application/json; charset=utf-8 1126.3453ms
2024-05-28 11:16:44.616 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 11:16:44.621 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:16:44.625 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 11:16:44.693 +05:30  INF  Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:16:44.701 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:16:44.707 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 78.5603ms
2024-05-28 11:16:44.709 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:16:44.711 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 95.0977ms
2024-05-28 11:17:50.114 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - null null
2024-05-28 11:17:50.123 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:17:50.130 +05:30  INF  Route matched with {action = "UserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserPayments() on controller API.Controllers.PaymentController (API).
2024-05-28 11:17:50.155 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[UserId] = @__userId_0
2024-05-28 11:17:50.161 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Order.PaymentInfoDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:17:50.166 +05:30  INF  Executed action API.Controllers.PaymentController.UserPayments (API) in 33.0914ms
2024-05-28 11:17:50.177 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:17:50.183 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - 200 null application/json; charset=utf-8 70.4645ms
2024-05-28 11:17:55.856 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:17:55.860 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:17:55.864 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:17:55.898 +05:30  INF  Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:17:55.911 +05:30  INF  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:17:55.926 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:17:55.938 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:17:55.946 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:17:55.990 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:17:56.017 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:17:56.026 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:17:57.682 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1814.6709ms
2024-05-28 11:17:57.684 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:17:57.745 +05:30  ERR  An unhandled exception has occurred while executing the request.Stripe.StripeException: The Checkout Session's total amount must convert to at least 50 cents. 104.91 ₨ converts to approximately $0.35.
   at Stripe.StripeClient.ProcessResponse[T](StripeResponse response) in /_/src/Stripe.net/Infrastructure/Public/StripeClient.cs:line 153
   at Stripe.StripeClient.RequestAsync[T](HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Infrastructure/Public/StripeClient.cs:line 115
   at Stripe.Service`1.RequestAsync[T](HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Services/_base/Service.cs:line 276
   at PaymentService.Checkout(String stripeId, IEnumerable`1 products, String orderId)
   at Application.Services.Implementation.CheckoutService.checkout() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\Application\Services\Implementation\CheckoutService.cs:line 52
   at API.Controllers.PaymentController.Checkout() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API\Controllers\CheckoutController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-05-28 11:17:57.771 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 500 null text/plain; charset=utf-8 1915.8771ms
2024-05-28 11:18:54.224 +05:30  INF  Request starting HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - application/json 38
2024-05-28 11:18:54.234 +05:30  INF  Executing endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:18:54.236 +05:30  INF  Route matched with {action = "ModifyCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ModifyCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:18:54.295 +05:30  INF  Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:18:54.308 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserProducts] SET [Quantity] = @p0
OUTPUT 1
WHERE [ProductId] = @p1 AND [userId] = @p2;
2024-05-28 11:18:54.315 +05:30  INF  Cart Items updated Sucessfully
2024-05-28 11:18:54.316 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:18:54.318 +05:30  INF  Executed action API.Controllers.CartController.ModifyCart (API) in 78.4016ms
2024-05-28 11:18:54.320 +05:30  INF  Executed endpoint 'API.Controllers.CartController.ModifyCart (API)'
2024-05-28 11:18:54.321 +05:30  INF  Request finished HTTP/2 PUT https://localhost:7220/api/Cart/modify-cart-item - 200 null application/json; charset=utf-8 98.3103ms
2024-05-28 11:19:00.351 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:19:00.354 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:19:00.355 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:19:00.380 +05:30  INF  Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:19:00.392 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:19:00.401 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:19:00.409 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:19:00.417 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:19:00.427 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:19:00.437 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:19:00.444 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:19:01.262 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:19:01.265 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 905.7195ms
2024-05-28 11:19:01.270 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:19:01.271 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 920.141ms
2024-05-28 11:19:21.873 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/webHook - application/json; charset=utf-8 3502
2024-05-28 11:19:21.881 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/webHook - 404 0 null 7.4772ms
2024-05-28 11:19:21.887 +05:30  INF  Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7220/webHook, Response status code: 404
2024-05-28 11:19:21.935 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/webHook - application/json; charset=utf-8 1960
2024-05-28 11:19:21.942 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/webHook - 404 0 null 7.18ms
2024-05-28 11:19:21.951 +05:30  INF  Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7220/webHook, Response status code: 404
2024-05-28 11:19:21.968 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/webHook - application/json; charset=utf-8 1918
2024-05-28 11:19:21.973 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/webHook - 404 0 null 5.8428ms
2024-05-28 11:19:21.979 +05:30  INF  Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7220/webHook, Response status code: 404
2024-05-28 11:19:22.175 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/webHook - application/json; charset=utf-8 3291
2024-05-28 11:19:22.179 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/webHook - 404 0 null 3.9304ms
2024-05-28 11:19:22.183 +05:30  INF  Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7220/webHook, Response status code: 404
2024-05-28 11:19:24.300 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/webHook - application/json; charset=utf-8 3727
2024-05-28 11:19:24.304 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/webHook - 404 0 null 3.1986ms
2024-05-28 11:19:24.307 +05:30  INF  Request reached the end of the middleware pipeline without being handled by application code. Request path: POST https://localhost:7220/webHook, Response status code: 404
2024-05-28 11:19:24.312 +05:30  INF  Connection id "0HN3UPVMH9V0Q", Request id "0HN3UPVMH9V0Q:00000005": the application completed without reading the entire request body.
2024-05-28 11:19:43.950 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - null null
2024-05-28 11:19:43.962 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:19:43.963 +05:30  INF  Route matched with {action = "UserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserPayments() on controller API.Controllers.PaymentController (API).
2024-05-28 11:19:44.010 +05:30  INF  Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[UserId] = @__userId_0
2024-05-28 11:19:44.021 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Order.PaymentInfoDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:19:44.026 +05:30  INF  Executed action API.Controllers.PaymentController.UserPayments (API) in 60.3073ms
2024-05-28 11:19:44.029 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:19:44.031 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - 200 null application/json; charset=utf-8 81.2581ms
2024-05-28 11:20:03.444 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - null null
2024-05-28 11:20:03.448 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:20:03.450 +05:30  INF  Route matched with {action = "UserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserPayments() on controller API.Controllers.PaymentController (API).
2024-05-28 11:20:03.459 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[UserId] = @__userId_0
2024-05-28 11:20:03.464 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Order.PaymentInfoDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:20:03.467 +05:30  INF  Executed action API.Controllers.PaymentController.UserPayments (API) in 13.7794ms
2024-05-28 11:20:03.469 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:20:03.470 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - 200 null application/json; charset=utf-8 26.6197ms
2024-05-28 11:23:07.797 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment/webHook - null 0
2024-05-28 11:23:07.819 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:23:07.823 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:23:15.064 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 7238.2678ms
2024-05-28 11:23:15.066 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:23:15.078 +05:30  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 44
   at PaymentService.webHookHandler()
   at Application.Services.Implementation.CheckoutService.HandlePayment() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\Application\Services\Implementation\CheckoutService.cs:line 65
   at API.Controllers.PaymentController.Index() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API\Controllers\CheckoutController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-05-28 11:23:15.100 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment/webHook - 500 null text/plain; charset=utf-8 7303.2223ms
2024-05-28 11:24:03.444 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment/webHook - null 0
2024-05-28 11:24:03.457 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:24:03.458 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:24:11.945 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 8484.2884ms
2024-05-28 11:24:11.948 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:24:11.956 +05:30  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 44
   at PaymentService.webHookHandler()
   at Application.Services.Implementation.CheckoutService.HandlePayment() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\Application\Services\Implementation\CheckoutService.cs:line 65
   at API.Controllers.PaymentController.Index() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API\Controllers\CheckoutController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-05-28 11:24:11.977 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment/webHook - 500 null text/plain; charset=utf-8 8533.0203ms
2024-05-28 11:24:25.968 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 11:24:25.973 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:24:25.975 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 11:24:27.064 +05:30  INF  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:24:27.070 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:24:27.073 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 1094.3192ms
2024-05-28 11:24:27.075 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:24:27.077 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 1109.3507ms
2024-05-28 11:24:37.849 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:24:37.861 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:24:37.863 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:24:37.917 +05:30  INF  Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:24:37.929 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:24:37.937 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:24:37.947 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:24:37.954 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:24:37.965 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:24:37.976 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:24:37.983 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:24:39.081 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:24:39.086 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1218.7331ms
2024-05-28 11:24:39.092 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:24:39.095 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1246.6978ms
2024-05-28 11:25:00.921 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3502
2024-05-28 11:25:00.927 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:00.929 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:00.945 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 11:25:00.949 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:00.950 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:01.009 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 11:25:01.013 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:01.014 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:01.023 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:25:01.023 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:25:01.025 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 7.8607ms
2024-05-28 11:25:01.027 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 72.1298ms
2024-05-28 11:25:01.028 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:25:01.028 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:01.029 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:01.031 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 90.5487ms
2024-05-28 11:25:01.032 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 22.8208ms
2024-05-28 11:25:01.033 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 87.8324ms
2024-05-28 11:25:01.034 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:01.043 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 122.0811ms
2024-05-28 11:25:01.230 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3291
2024-05-28 11:25:01.240 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:01.245 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:01.277 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 11:25:01.316 +05:30  INF  Executed DbCommand (31ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 11:25:01.333 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 11:25:01.345 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:25:01.381 +05:30  INF  Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:25:01.391 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:25:01.398 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:25:01.410 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 11:25:01.446 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p2 AND [userId] = @p3;
2024-05-28 11:25:01.534 +05:30  INF  Executed DbCommand (8ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 11:25:02.745 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:25:02.748 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 1497.3386ms
2024-05-28 11:25:02.749 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:02.752 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 1522.1835ms
2024-05-28 11:25:03.510 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3727
2024-05-28 11:25:03.514 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:03.515 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:03.524 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:25:03.526 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 7.1739ms
2024-05-28 11:25:03.528 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:25:03.529 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 19.3072ms
2024-05-28 11:25:11.315 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 11:25:11.321 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:25:11.323 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 11:25:11.371 +05:30  INF  Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:25:11.376 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:25:11.379 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 52.3747ms
2024-05-28 11:25:11.382 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:25:11.383 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 67.9586ms
2024-05-28 11:25:45.778 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - null null
2024-05-28 11:25:45.791 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:25:45.793 +05:30  INF  Route matched with {action = "UserPayments", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserPayments() on controller API.Controllers.PaymentController (API).
2024-05-28 11:25:45.805 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[UserId] = @__userId_0
2024-05-28 11:25:45.808 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Order.PaymentInfoDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:25:45.810 +05:30  INF  Executed action API.Controllers.PaymentController.UserPayments (API) in 13.979ms
2024-05-28 11:25:45.812 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.UserPayments (API)'
2024-05-28 11:25:45.813 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Payment/Get-user-payments - 200 null application/json; charset=utf-8 35.5158ms
2024-05-28 11:26:06.484 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Payment/Get-User-payments-byId/69 - null null
2024-05-28 11:26:06.494 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.GetPaymentInfo (API)'
2024-05-28 11:26:06.504 +05:30  INF  Route matched with {action = "GetPaymentInfo", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaymentInfo(Int32) on controller API.Controllers.PaymentController (API).
2024-05-28 11:26:06.543 +05:30  INF  Executed DbCommand (25ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[OrderId], [o].[ProductId], [o].[OrderQty], [o].[UnitPrice], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [OrderProducts] AS [o]
INNER JOIN [Products] AS [p] ON [o].[ProductId] = [p].[ProductId]
WHERE [o].[OrderId] = @__orderId_0
2024-05-28 11:26:06.549 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Order.PaymentProductDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:26:06.559 +05:30  INF  Executed action API.Controllers.PaymentController.GetPaymentInfo (API) in 51.4755ms
2024-05-28 11:26:06.561 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.GetPaymentInfo (API)'
2024-05-28 11:26:06.562 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Payment/Get-User-payments-byId/69 - 200 null application/json; charset=utf-8 78.8906ms
2024-05-28 11:32:12.389 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 37
2024-05-28 11:32:12.403 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:32:12.404 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:32:13.484 +05:30  INF  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:32:13.499 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:32:13.507 +05:30  INF  Cart item successfully added
2024-05-28 11:32:13.509 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:32:13.510 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 1099.8823ms
2024-05-28 11:32:13.520 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:32:13.522 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 1133.1565ms
2024-05-28 11:32:27.082 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 37
2024-05-28 11:32:27.087 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:32:27.088 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:32:27.099 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:32:27.162 +05:30  INF  Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:32:27.171 +05:30  INF  Cart item successfully added
2024-05-28 11:32:27.173 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:32:27.174 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 82.4071ms
2024-05-28 11:32:27.178 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:32:27.179 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 97.368ms
2024-05-28 11:32:34.113 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment/webHook - null 0
2024-05-28 11:32:34.116 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:32:34.127 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:32:39.474 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 5337.3855ms
2024-05-28 11:32:39.476 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:32:39.484 +05:30  ERR  An unhandled exception has occurred while executing the request.System.NullReferenceException: Object reference not set to an instance of an object.
   at Stripe.EventUtility.ParseEvent(String json, Boolean throwOnApiVersionMismatch) in /_/src/Stripe.net/Services/Events/EventUtility.cs:line 44
   at PaymentService.webHookHandler()
   at Application.Services.Implementation.CheckoutService.HandlePayment() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\Application\Services\Implementation\CheckoutService.cs:line 65
   at API.Controllers.PaymentController.Index() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API\Controllers\CheckoutController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-05-28 11:32:39.525 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment/webHook - 500 null text/plain; charset=utf-8 5412.0348ms
2024-05-28 11:32:45.887 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:32:45.891 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:32:45.892 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:32:45.909 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:32:45.919 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:32:45.933 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:32:45.949 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:32:45.962 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:32:45.978 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:32:45.991 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:32:46.000 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:32:47.074 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:32:47.078 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1179.4135ms
2024-05-28 11:32:47.080 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:32:47.082 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1194.6119ms
2024-05-28 11:33:09.340 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3507
2024-05-28 11:33:09.357 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.360 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:33:09.374 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:33:09.375 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 11:33:09.377 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 5.4343ms
2024-05-28 11:33:09.381 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.388 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.390 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:33:09.393 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 54.974ms
2024-05-28 11:33:09.398 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:33:09.408 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 11.3489ms
2024-05-28 11:33:09.410 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.411 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 36.2272ms
2024-05-28 11:33:09.445 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 11:33:09.450 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.452 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:33:09.456 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:33:09.458 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.1856ms
2024-05-28 11:33:09.459 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.461 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 15.7613ms
2024-05-28 11:33:09.639 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3291
2024-05-28 11:33:09.645 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:09.647 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:33:09.665 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 11:33:09.705 +05:30  INF  Executed DbCommand (25ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 11:33:09.721 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 11:33:09.732 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:33:09.748 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:33:09.759 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:33:09.767 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:33:09.777 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 11:33:09.790 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p2 AND [userId] = @p3;
2024-05-28 11:33:09.809 +05:30  INF  Executed DbCommand (10ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 11:33:15.163 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3732
2024-05-28 11:33:41.926 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:41.932 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:33:41.936 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:33:41.977 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 41.9607ms
2024-05-28 11:33:41.984 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:33:41.986 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 499 null application/json; charset=utf-8 26825.6352ms
2024-05-28 11:34:34.818 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:34:34.838 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 85179.9775ms
2024-05-28 11:34:34.839 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:34:34.840 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 499 null application/json; charset=utf-8 85201.5494ms
2024-05-28 11:35:54.123 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:35:54.141 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:35:54.144 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:35:54.156 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:35:54.171 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:35:54.187 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:35:54.198 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:35:55.328 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1178.1727ms
2024-05-28 11:35:55.331 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:35:55.343 +05:30  ERR  An unhandled exception has occurred while executing the request.Stripe.StripeException: You passed an empty string for 'line_items'. We assume empty values are an attempt to unset a parameter; however 'line_items' cannot be unset. You should remove 'line_items' from your request or supply a non-empty value.
   at Stripe.StripeClient.ProcessResponse[T](StripeResponse response) in /_/src/Stripe.net/Infrastructure/Public/StripeClient.cs:line 153
   at Stripe.StripeClient.RequestAsync[T](HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Infrastructure/Public/StripeClient.cs:line 115
   at Stripe.Service`1.RequestAsync[T](HttpMethod method, String path, BaseOptions options, RequestOptions requestOptions, CancellationToken cancellationToken) in /_/src/Stripe.net/Services/_base/Service.cs:line 276
   at PaymentService.Checkout(String stripeId, IEnumerable`1 products, String orderId)
   at Application.Services.Implementation.CheckoutService.checkout() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\Application\Services\Implementation\CheckoutService.cs:line 52
   at API.Controllers.PaymentController.Checkout() in C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API\Controllers\CheckoutController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)

2024-05-28 11:35:55.377 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 500 null text/plain; charset=utf-8 1254.7769ms
2024-05-28 11:36:20.511 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 37
2024-05-28 11:36:20.521 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:36:20.522 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:36:20.537 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:36:20.584 +05:30  INF  Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:36:20.593 +05:30  INF  Cart item successfully added
2024-05-28 11:36:20.597 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:36:20.598 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 68.9251ms
2024-05-28 11:36:20.601 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:36:20.602 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 90.8483ms
2024-05-28 11:36:28.495 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 11:36:28.500 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:36:28.503 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:36:28.517 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:36:28.566 +05:30  INF  Executed DbCommand (36ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserProducts] SET [Quantity] = @p0
OUTPUT 1
WHERE [ProductId] = @p1 AND [userId] = @p2;
2024-05-28 11:36:28.577 +05:30  INF  Cart item updated successfully: {"User":null,"userId":"66556121465f0d3c058ad27d","Product":null,"ProductId":4,"Quantity":11,"$type":"UserProduct"}
2024-05-28 11:36:28.584 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:36:28.590 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 78.7511ms
2024-05-28 11:36:28.592 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:36:28.594 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 99.032ms
2024-05-28 11:36:44.696 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 11:36:44.701 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:36:44.703 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 11:36:44.716 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:36:44.728 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:36:44.730 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 22.751ms
2024-05-28 11:36:44.732 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:36:44.733 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 36.8462ms
2024-05-28 11:36:51.693 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:36:51.696 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:36:51.698 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:36:51.710 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:36:51.718 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:36:51.735 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:36:51.745 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:36:51.768 +05:30  INF  Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:36:51.783 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:36:52.456 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:36:52.460 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 757.8422ms
2024-05-28 11:36:52.464 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:36:52.468 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 775.4871ms
2024-05-28 11:37:07.894 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3507
2024-05-28 11:37:07.900 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:07.902 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:37:07.908 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:37:07.910 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.9966ms
2024-05-28 11:37:07.912 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:07.913 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 19.199ms
2024-05-28 11:37:07.922 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 11:37:07.925 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:07.927 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:37:07.931 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:37:07.935 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 4.0276ms
2024-05-28 11:37:07.937 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:07.940 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 18.5851ms
2024-05-28 11:37:07.989 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 11:37:07.994 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:07.996 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:37:08.000 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:37:08.002 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.4426ms
2024-05-28 11:37:08.009 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:08.011 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 22.1698ms
2024-05-28 11:37:08.634 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3291
2024-05-28 11:37:08.641 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:08.642 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:37:08.657 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 11:37:08.677 +05:30  INF  Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 11:37:08.689 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 11:37:08.699 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:37:08.714 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:37:08.724 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 11:37:08.736 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 11:37:08.760 +05:30  INF  Executed DbCommand (13ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 11:37:13.777 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3732
2024-05-28 11:37:13.781 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:13.784 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:37:13.790 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:37:13.791 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.6722ms
2024-05-28 11:37:13.793 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:13.795 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 18.0336ms
2024-05-28 11:37:14.337 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:37:14.339 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 5693.1956ms
2024-05-28 11:37:14.340 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:37:14.342 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 5707.7986ms
2024-05-28 11:41:11.030 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 246
2024-05-28 11:41:11.042 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 11:41:11.046 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 11:41:12.366 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 11:41:12.403 +05:30  INF  Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:41:12.488 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1110
2024-05-28 11:41:12.492 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:41:12.493 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:41:12.496 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:41:12.498 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.3933ms
2024-05-28 11:41:12.499 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:41:12.505 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 16.5385ms
2024-05-28 11:41:13.561 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:41:13.571 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 2522.8061ms
2024-05-28 11:41:13.589 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 11:41:13.595 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 2564.9516ms
2024-05-28 11:42:07.379 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 69
2024-05-28 11:42:07.388 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:42:07.392 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 11:42:09.534 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 11:42:09.536 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 2136.9527ms
2024-05-28 11:42:09.542 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:42:09.545 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 2166.3845ms
2024-05-28 11:42:41.532 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 247
2024-05-28 11:42:41.543 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 11:42:41.547 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 11:42:42.740 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 11:42:42.751 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:42:42.854 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1111
2024-05-28 11:42:42.858 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:42:42.861 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:42:42.866 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:42:42.867 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.3525ms
2024-05-28 11:42:42.869 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:42:42.871 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 16.6203ms
2024-05-28 11:42:43.787 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:42:43.789 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 2233.6868ms
2024-05-28 11:42:43.793 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 11:42:43.797 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 2265.3574ms
2024-05-28 11:42:59.646 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 70
2024-05-28 11:42:59.651 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:42:59.652 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 11:43:00.900 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 11:43:00.903 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 1241.961ms
2024-05-28 11:43:00.907 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:43:00.908 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 1262.0291ms
2024-05-28 11:44:10.879 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/all-products - null null
2024-05-28 11:44:10.897 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:44:10.899 +05:30  INF  Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProducts() on controller API.Controllers.ProductController (API).
2024-05-28 11:44:10.942 +05:30  INF  Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
2024-05-28 11:44:10.948 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:44:10.951 +05:30  INF  Executed action API.Controllers.ProductController.GetProducts (API) in 45.2648ms
2024-05-28 11:44:10.961 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:44:10.965 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/all-products - 200 null application/json; charset=utf-8 86.9459ms
2024-05-28 11:44:44.022 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 11:44:44.049 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:44:44.051 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:44:44.062 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:44:44.076 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:44:44.085 +05:30  INF  Cart item successfully added
2024-05-28 11:44:44.086 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:44:44.088 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 33.5736ms
2024-05-28 11:44:44.089 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:44:44.093 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 71.7428ms
2024-05-28 11:44:50.169 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:44:50.173 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:44:50.175 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:44:50.188 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:44:50.203 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:44:50.216 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:44:50.226 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:44:50.234 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:44:50.248 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:44:51.229 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:44:51.231 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1049.4164ms
2024-05-28 11:44:51.232 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:44:51.234 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1065.0043ms
2024-05-28 11:45:11.529 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3506
2024-05-28 11:45:11.546 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.547 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:45:11.552 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:45:11.557 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 6.6058ms
2024-05-28 11:45:11.559 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.561 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 33.4443ms
2024-05-28 11:45:11.616 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 11:45:11.619 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.623 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:45:11.627 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:45:11.628 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.7304ms
2024-05-28 11:45:11.630 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.632 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 16.1396ms
2024-05-28 11:45:11.645 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 11:45:11.648 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.653 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:45:11.660 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:45:11.662 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.8138ms
2024-05-28 11:45:11.663 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.665 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 19.2984ms
2024-05-28 11:45:11.874 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3291
2024-05-28 11:45:11.884 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:11.892 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:45:11.905 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 11:45:11.924 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 11:45:11.935 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 11:45:11.945 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:45:11.956 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:45:11.965 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 11:45:11.979 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 11:45:11.995 +05:30  INF  Executed DbCommand (8ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 11:45:15.259 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3731
2024-05-28 11:45:17.667 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:17.669 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:45:17.673 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:45:17.674 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.033ms
2024-05-28 11:45:17.676 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:17.677 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 2417.9819ms
2024-05-28 11:45:18.812 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:45:18.815 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 6917.8743ms
2024-05-28 11:45:18.818 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:45:18.821 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 6947.1442ms
2024-05-28 11:51:36.017 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 11:51:36.036 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:51:36.038 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 11:51:37.086 +05:30  INF  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:51:37.089 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:51:37.090 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 1050.5269ms
2024-05-28 11:51:37.096 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 11:51:37.098 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 1080.5942ms
2024-05-28 11:51:45.207 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 11:51:45.211 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:51:45.213 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:51:45.222 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:51:45.237 +05:30  INF  Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:51:45.240 +05:30  INF  Cart item successfully added
2024-05-28 11:51:45.241 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:51:45.243 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 27.9747ms
2024-05-28 11:51:45.244 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:51:45.245 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 38.2293ms
2024-05-28 11:51:58.889 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:51:58.904 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:51:58.906 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:51:58.913 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:51:58.921 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:51:58.927 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:51:58.933 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:51:58.937 +05:30  INF  Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-28 11:51:58.938 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 30.0598ms
2024-05-28 11:51:58.939 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:51:58.941 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 400 null application/json; charset=utf-8 51.4463ms
2024-05-28 11:52:10.781 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/all-products - null null
2024-05-28 11:52:10.787 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:52:10.788 +05:30  INF  Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProducts() on controller API.Controllers.ProductController (API).
2024-05-28 11:52:10.834 +05:30  INF  Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
2024-05-28 11:52:10.837 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 11:52:10.839 +05:30  INF  Executed action API.Controllers.ProductController.GetProducts (API) in 48.8788ms
2024-05-28 11:52:10.840 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 11:52:10.842 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/all-products - 200 null application/json; charset=utf-8 60.8129ms
2024-05-28 11:53:01.219 +05:30  INF  Request starting HTTP/2 DELETE https://localhost:7220/api/Cart/delete-cart-item/4 - null null
2024-05-28 11:53:01.239 +05:30  INF  Executing endpoint 'API.Controllers.CartController.DeleteCartItem (API)'
2024-05-28 11:53:01.243 +05:30  INF  Route matched with {action = "DeleteCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCartItem(Int32) on controller API.Controllers.CartController (API).
2024-05-28 11:53:01.314 +05:30  INF  Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:53:01.326 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 11:53:01.330 +05:30  INF  Cart Item remove successfully
2024-05-28 11:53:01.331 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:53:01.332 +05:30  INF  Executed action API.Controllers.CartController.DeleteCartItem (API) in 87.1915ms
2024-05-28 11:53:01.338 +05:30  INF  Executed endpoint 'API.Controllers.CartController.DeleteCartItem (API)'
2024-05-28 11:53:01.340 +05:30  INF  Request finished HTTP/2 DELETE https://localhost:7220/api/Cart/delete-cart-item/4 - 200 null application/json; charset=utf-8 121.3428ms
2024-05-28 11:53:15.714 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 11:53:15.718 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:53:15.719 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:53:15.728 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:53:15.779 +05:30  INF  Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:53:15.784 +05:30  INF  Cart item successfully added
2024-05-28 11:53:15.785 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:53:15.786 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 63.9883ms
2024-05-28 11:53:15.787 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:53:15.788 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 75.0253ms
2024-05-28 11:53:21.583 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:53:21.588 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:53:21.589 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:53:21.596 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:53:21.604 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:53:21.609 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:53:21.615 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:53:21.657 +05:30  INF  Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:53:21.670 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:53:22.574 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:53:22.584 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 993.5341ms
2024-05-28 11:53:22.590 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:53:22.591 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1008.3765ms
2024-05-28 11:54:10.808 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 70
2024-05-28 11:54:10.833 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:54:10.835 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 11:54:12.331 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 11:54:12.334 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 1496.6388ms
2024-05-28 11:54:12.336 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 11:54:12.337 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 1529.5536ms
2024-05-28 11:54:31.983 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 11:54:31.988 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:54:31.990 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 11:54:32.001 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 11:54:32.008 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 11:54:32.013 +05:30  INF  Cart item successfully added
2024-05-28 11:54:32.014 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:54:32.015 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 22.4169ms
2024-05-28 11:54:32.016 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 11:54:32.017 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 34.3054ms
2024-05-28 11:54:37.800 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 11:54:37.803 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:54:37.804 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 11:54:37.814 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 11:54:37.822 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:54:37.828 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 11:54:37.834 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 11:54:37.863 +05:30  INF  Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 11:54:37.872 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 11:54:38.885 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 11:54:38.888 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1080.288ms
2024-05-28 11:54:38.890 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 11:54:38.891 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1091.7144ms
2024-05-28 11:54:58.379 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3503
2024-05-28 11:54:58.394 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.395 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:54:58.398 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:54:58.400 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.6567ms
2024-05-28 11:54:58.401 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.403 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 23.6844ms
2024-05-28 11:54:58.441 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 11:54:58.446 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.447 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:54:58.450 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:54:58.451 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 1.6635ms
2024-05-28 11:54:58.453 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.454 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 13.1911ms
2024-05-28 11:54:58.517 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 11:54:58.522 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.523 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:54:58.525 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:54:58.526 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 1.549ms
2024-05-28 11:54:58.527 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.528 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 11.2505ms
2024-05-28 11:54:58.628 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3287
2024-05-28 11:54:58.634 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:54:58.635 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:54:58.643 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 11:54:58.653 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 11:54:58.661 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 11:54:58.668 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 11:54:58.677 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 11:54:58.682 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 11:54:58.690 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 11:54:58.700 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 11:55:04.278 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3728
2024-05-28 11:55:04.288 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:55:04.289 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 11:55:04.292 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:55:04.293 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.091ms
2024-05-28 11:55:04.294 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:55:04.295 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 17.8082ms
2024-05-28 11:55:04.866 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 11:55:04.870 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 6232.4096ms
2024-05-28 11:55:04.871 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 11:55:04.872 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 6244.2634ms
2024-05-28 12:58:59.987 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 12:59:00.312 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 12:59:00.315 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 12:59:00.322 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 12:59:00.326 +05:30  INF  Hosting environment: Development
2024-05-28 12:59:00.329 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 12:59:00.965 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 12:59:01.474 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 521.5674ms
2024-05-28 12:59:01.532 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 12:59:01.548 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 16.3158ms
2024-05-28 12:59:01.557 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 12:59:01.651 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.1972ms
2024-05-28 12:59:02.196 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 12:59:02.357 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.5637ms
2024-05-28 13:19:41.071 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:19:41.145 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 73.4668ms
2024-05-28 13:19:41.156 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:19:41.161 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 8.1798ms
2024-05-28 13:19:41.183 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:19:41.219 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.5309ms
2024-05-28 13:19:41.520 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:19:41.558 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.8662ms
2024-05-28 13:19:58.975 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:19:58.992 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 16.7044ms
2024-05-28 13:19:59.018 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:19:59.024 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 5.9277ms
2024-05-28 13:19:59.029 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:19:59.048 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.339ms
2024-05-28 13:19:59.102 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:19:59.126 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.8696ms
2024-05-28 13:20:35.274 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 13:20:35.535 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 13:20:35.538 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 13:20:35.545 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 13:20:35.548 +05:30  INF  Hosting environment: Development
2024-05-28 13:20:35.551 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 13:20:39.841 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:20:40.138 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 303.3855ms
2024-05-28 13:20:40.167 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:20:40.167 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:20:40.193 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 12.5155ms
2024-05-28 13:20:40.234 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.2051ms
2024-05-28 13:20:40.300 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:20:40.478 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 179.2951ms
2024-05-28 13:28:06.577 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:28:06.619 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 42.0978ms
2024-05-28 13:28:06.645 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:28:06.645 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:28:06.650 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 5.6651ms
2024-05-28 13:28:06.685 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8631ms
2024-05-28 13:28:06.714 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:28:06.746 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.058ms
2024-05-28 13:28:56.347 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:28:56.365 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 18.0596ms
2024-05-28 13:28:56.398 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:28:56.399 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:28:56.402 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 4.5027ms
2024-05-28 13:28:56.423 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4021ms
2024-05-28 13:28:56.470 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:28:56.498 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.1669ms
2024-05-28 13:29:18.530 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 13:29:18.841 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 13:29:18.845 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 13:29:18.852 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 13:29:18.856 +05:30  INF  Hosting environment: Development
2024-05-28 13:29:18.858 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 13:29:22.727 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:29:23.038 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 321.4008ms
2024-05-28 13:29:23.061 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:29:23.061 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:29:23.076 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 14.9083ms
2024-05-28 13:29:23.110 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1184ms
2024-05-28 13:29:23.178 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:29:23.412 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 234.6362ms
2024-05-28 13:30:20.754 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 250
2024-05-28 13:30:20.845 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 13:30:20.879 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 13:30:24.170 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1116
2024-05-28 13:30:24.178 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:30:24.188 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:30:24.319 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:30:24.335 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 140.0824ms
2024-05-28 13:30:24.340 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:30:24.350 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 180.3931ms
2024-05-28 13:30:25.799 +05:30  INF  Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 13:30:25.931 +05:30  INF  Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 13:30:27.108 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:30:27.117 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 6232.8573ms
2024-05-28 13:30:27.120 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 13:30:27.127 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 6375.2131ms
2024-05-28 13:32:37.647 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 13:32:37.682 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 36.0126ms
2024-05-28 13:32:37.711 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 13:32:37.711 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 13:32:37.719 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 7.7925ms
2024-05-28 13:32:37.740 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.059ms
2024-05-28 13:32:37.887 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 13:32:37.923 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.0867ms
2024-05-28 13:33:34.768 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 13:33:34.795 +05:30  INF  Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-28 13:33:34.810 +05:30  INF  AuthenticationScheme: Bearer was challenged.
2024-05-28 13:33:34.814 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 401 0 null 46.1209ms
2024-05-28 13:34:02.549 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 76
2024-05-28 13:34:02.565 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 13:34:02.571 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 13:34:04.348 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 13:34:04.351 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 1776.591ms
2024-05-28 13:34:04.354 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 13:34:04.355 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 1807.4599ms
2024-05-28 13:34:28.026 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 13:34:28.838 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 13:34:28.843 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 13:34:29.294 +05:30  INF  Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:34:29.305 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 13:34:29.310 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 464.5179ms
2024-05-28 13:34:29.313 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 13:34:29.314 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 1289.213ms
2024-05-28 13:34:42.042 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 13:34:42.049 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:34:42.053 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 13:34:42.138 +05:30  INF  Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 13:34:42.175 +05:30  INF  Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 13:34:42.182 +05:30  INF  Cart item successfully added
2024-05-28 13:34:42.184 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 13:34:42.186 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 129.5083ms
2024-05-28 13:34:42.188 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:34:42.189 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 148.1524ms
2024-05-28 13:35:01.575 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 13:35:01.585 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 13:35:01.591 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:01.612 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 13:35:01.626 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:35:01.641 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:35:01.654 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 13:35:01.696 +05:30  INF  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 13:35:01.721 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 13:35:02.761 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 13:35:02.763 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1170.604ms
2024-05-28 13:35:02.765 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 13:35:02.767 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1192.7415ms
2024-05-28 13:35:30.613 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3507
2024-05-28 13:35:30.626 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.631 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:30.685 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 13:35:30.689 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.690 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:30.724 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:35:30.727 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 93.2379ms
2024-05-28 13:35:30.730 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.731 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:35:30.732 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 119.3702ms
2024-05-28 13:35:30.734 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 41.598ms
2024-05-28 13:35:30.738 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.739 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 54.0224ms
2024-05-28 13:35:30.743 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 13:35:30.745 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.746 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:30.750 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:35:30.751 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.4894ms
2024-05-28 13:35:30.752 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.753 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 10.4394ms
2024-05-28 13:35:30.864 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3292
2024-05-28 13:35:30.871 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:30.873 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:30.895 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 13:35:30.915 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 13:35:30.931 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 13:35:30.942 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 13:35:30.970 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 13:35:30.982 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 13:35:30.997 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 13:35:31.067 +05:30  INF  Executed DbCommand (10ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 13:35:36.864 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3732
2024-05-28 13:35:36.875 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:36.877 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:35:36.885 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:35:36.887 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 7.8228ms
2024-05-28 13:35:36.888 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:36.889 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 25.3206ms
2024-05-28 13:35:37.976 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:35:37.979 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 7104.1317ms
2024-05-28 13:35:37.981 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:35:37.983 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 7118.339ms
2024-05-28 13:46:53.098 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/register - application/json 249
2024-05-28 13:46:53.109 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 13:46:53.113 +05:30  INF  Route matched with {action = "Signup", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(Application.DTOs.SignUpDTO) on controller API.Controllers.UserController (API).
2024-05-28 13:46:54.772 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1118
2024-05-28 13:46:54.778 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:46:54.780 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:46:54.785 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:46:54.786 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.7787ms
2024-05-28 13:46:54.787 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:46:54.789 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 17.0411ms
2024-05-28 13:46:55.767 +05:30  INF  Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([UserId], [Email], [FirstName], [LastName], [PhoneNumber], [StripeId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-05-28 13:46:55.781 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [IsPrimary], [PostalCode], [StreetName], [UserId])
OUTPUT INSERTED.[AddressId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 13:46:56.619 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:46:56.629 +05:30  INF  Executed action API.Controllers.UserController.Signup (API) in 3513.3896ms
2024-05-28 13:46:56.657 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Signup (API)'
2024-05-28 13:46:56.659 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/register - 200 null application/json; charset=utf-8 3562.3205ms
2024-05-28 13:47:19.065 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/User/login - application/json 77
2024-05-28 13:47:19.070 +05:30  INF  Executing endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 13:47:19.072 +05:30  INF  Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.DTOs.LoginDTO) on controller API.Controllers.UserController (API).
2024-05-28 13:47:20.414 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.User.LoginResponse'.
2024-05-28 13:47:20.416 +05:30  INF  Executed action API.Controllers.UserController.Login (API) in 1341.9222ms
2024-05-28 13:47:20.418 +05:30  INF  Executed endpoint 'API.Controllers.UserController.Login (API)'
2024-05-28 13:47:20.419 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/User/login - 200 null application/json; charset=utf-8 1354.7007ms
2024-05-28 13:47:43.977 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/Product/all-products - null null
2024-05-28 13:47:43.982 +05:30  INF  Executing endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 13:47:43.987 +05:30  INF  Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[Application.DTOs.Product.ProductResponse]] GetProducts() on controller API.Controllers.ProductController (API).
2024-05-28 13:47:44.033 +05:30  INF  Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity], [p0].[CategoryId], [p0].[CategoryIcon], [p0].[CategoryName]
FROM [Products] AS [p]
INNER JOIN [ProductCategories] AS [p0] ON [p].[ProductCategoryId] = [p0].[CategoryId]
2024-05-28 13:47:44.041 +05:30  INF  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Product.ProductResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 13:47:44.048 +05:30  INF  Executed action API.Controllers.ProductController.GetProducts (API) in 57.9868ms
2024-05-28 13:47:44.050 +05:30  INF  Executed endpoint 'API.Controllers.ProductController.GetProducts (API)'
2024-05-28 13:47:44.052 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/Product/all-products - 200 null application/json; charset=utf-8 74.508ms
2024-05-28 13:48:28.504 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 13:48:28.517 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:48:28.520 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 13:48:28.577 +05:30  INF  Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 13:48:28.590 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserProducts] ([ProductId], [userId], [Quantity])
VALUES (@p0, @p1, @p2);
2024-05-28 13:48:28.595 +05:30  INF  Cart item successfully added
2024-05-28 13:48:28.596 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 13:48:28.598 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 73.1703ms
2024-05-28 13:48:28.599 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:48:28.600 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 96.6826ms
2024-05-28 13:48:31.392 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - application/json 38
2024-05-28 13:48:31.396 +05:30  INF  Executing endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:48:31.397 +05:30  INF  Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Application.DTOs.Cart.CartItemRequset) on controller API.Controllers.CartController (API).
2024-05-28 13:48:31.405 +05:30  INF  Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__itemId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0 AND [u].[ProductId] = @__itemId_1
2024-05-28 13:48:31.415 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserProducts] SET [Quantity] = @p0
OUTPUT 1
WHERE [ProductId] = @p1 AND [userId] = @p2;
2024-05-28 13:48:31.424 +05:30  INF  Cart item updated successfully: {"User":null,"userId":"665592f5a6666512e388f2fd","Product":null,"ProductId":6,"Quantity":10,"$type":"UserProduct"}
2024-05-28 13:48:31.431 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 13:48:31.432 +05:30  INF  Executed action API.Controllers.CartController.AddToCart (API) in 33.0458ms
2024-05-28 13:48:31.434 +05:30  INF  Executed endpoint 'API.Controllers.CartController.AddToCart (API)'
2024-05-28 13:48:31.435 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Cart/add-to-cart - 200 null application/json; charset=utf-8 43.4261ms
2024-05-28 13:50:13.921 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - null null
2024-05-28 13:50:13.933 +05:30  INF  Executing endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 13:50:13.934 +05:30  INF  Route matched with {action = "GetAllCartItems", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCartItems() on controller API.Controllers.CartController (API).
2024-05-28 13:50:13.947 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:50:13.953 +05:30  INF  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.DTOs.Cart.CartItemResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-28 13:50:13.957 +05:30  INF  Executed action API.Controllers.CartController.GetAllCartItems (API) in 20.0127ms
2024-05-28 13:50:13.966 +05:30  INF  Executed endpoint 'API.Controllers.CartController.GetAllCartItems (API)'
2024-05-28 13:50:13.967 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/api/Cart/get-all-cartItems - 200 null application/json; charset=utf-8 46.5913ms
2024-05-28 13:50:28.615 +05:30  INF  Request starting HTTP/2 POST https://localhost:7220/api/Payment - null 0
2024-05-28 13:50:28.621 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 13:50:28.622 +05:30  INF  Route matched with {action = "Checkout", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Checkout() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:28.640 +05:30  INF  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
FROM [Users] AS [u]
WHERE [u].[UserId] = @__userId_0
2024-05-28 13:50:28.649 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:50:28.657 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__userId_0
2024-05-28 13:50:28.665 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__item_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__item_ProductId_0
2024-05-28 13:50:28.678 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([OrderDate], [PaymentId], [Status], [TotalAmount], [UserId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-28 13:50:28.690 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderProducts] ([OrderId], [ProductId], [OrderQty], [UnitPrice])
VALUES (@p0, @p1, @p2, @p3);
2024-05-28 13:50:29.757 +05:30  INF  Executing OkObjectResult, writing value of type 'System.String'.
2024-05-28 13:50:29.762 +05:30  INF  Executed action API.Controllers.PaymentController.Checkout (API) in 1137.4546ms
2024-05-28 13:50:29.764 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Checkout (API)'
2024-05-28 13:50:29.766 +05:30  INF  Request finished HTTP/2 POST https://localhost:7220/api/Payment - 200 null application/json; charset=utf-8 1150.2807ms
2024-05-28 13:50:51.629 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3510
2024-05-28 13:50:51.641 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.644 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:51.649 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:50:51.651 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 4.0215ms
2024-05-28 13:50:51.653 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.655 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 25.3828ms
2024-05-28 13:50:51.713 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3294
2024-05-28 13:50:51.715 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1960
2024-05-28 13:50:51.726 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.729 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.731 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:51.732 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:51.741 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:50:51.746 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@__paymentResponse_OrderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId]
FROM [Orders] AS [o]
WHERE [o].[OrderId] = @__paymentResponse_OrderId_0
2024-05-28 13:50:51.748 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 10.4441ms
2024-05-28 13:50:51.753 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.755 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 40.3833ms
2024-05-28 13:50:51.761 +05:30  INF  Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [OrderDate] = @p0, [PaymentId] = @p1, [Status] = @p2, [TotalAmount] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [OrderId] = @p5;
2024-05-28 13:50:51.770 +05:30  INF  Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity], [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [UserProducts] AS [u]
INNER JOIN [Products] AS [p] ON [u].[ProductId] = [p].[ProductId]
WHERE [u].[userId] = @__id_0
2024-05-28 13:50:51.778 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__cartItem_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
FROM [Products] AS [p]
WHERE [p].[ProductId] = @__cartItem_ProductId_0
2024-05-28 13:50:51.788 +05:30  INF  Executed DbCommand (5ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Double), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [Discount] = @p1, [ImageUrl] = @p2, [Name] = @p3, [Price] = @p4, [ProductCategoryId] = @p5, [Quantity] = @p6
OUTPUT 1
WHERE [ProductId] = @p7;
2024-05-28 13:50:51.796 +05:30  INF  Executed DbCommand (2ms) [Parameters=[@__UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[userId], [u].[ProductId], [u].[Quantity]
FROM [UserProducts] AS [u]
WHERE [u].[userId] = @__UserId_0
2024-05-28 13:50:51.805 +05:30  INF  Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserProducts]
OUTPUT 1
WHERE [ProductId] = @p0 AND [userId] = @p1;
2024-05-28 13:50:51.819 +05:30  INF  Executed DbCommand (7ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[OrderId], [t].[OrderDate], [t].[PaymentId], [t].[Status], [t].[TotalAmount], [t].[UserId], [t].[UserId0], [t].[Email], [t].[FirstName], [t].[LastName], [t].[PhoneNumber], [t].[StripeId], [t0].[OrderId], [t0].[ProductId], [t0].[OrderQty], [t0].[UnitPrice], [t0].[ProductId0], [t0].[Description], [t0].[Discount], [t0].[ImageUrl], [t0].[Name], [t0].[Price], [t0].[ProductCategoryId], [t0].[Quantity]
FROM (
    SELECT TOP(1) [o].[OrderId], [o].[OrderDate], [o].[PaymentId], [o].[Status], [o].[TotalAmount], [o].[UserId], [u].[UserId] AS [UserId0], [u].[Email], [u].[FirstName], [u].[LastName], [u].[PhoneNumber], [u].[StripeId]
    FROM [Orders] AS [o]
    INNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[UserId]
    WHERE [o].[OrderId] = @__orderId_0
) AS [t]
LEFT JOIN (
    SELECT [o0].[OrderId], [o0].[ProductId], [o0].[OrderQty], [o0].[UnitPrice], [p].[ProductId] AS [ProductId0], [p].[Description], [p].[Discount], [p].[ImageUrl], [p].[Name], [p].[Price], [p].[ProductCategoryId], [p].[Quantity]
    FROM [OrderProducts] AS [o0]
    INNER JOIN [Products] AS [p] ON [o0].[ProductId] = [p].[ProductId]
) AS [t0] ON [t].[OrderId] = [t0].[OrderId]
ORDER BY [t].[OrderId], [t].[UserId0], [t0].[OrderId], [t0].[ProductId]
2024-05-28 13:50:51.882 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 1918
2024-05-28 13:50:51.889 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.891 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:51.894 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:50:51.896 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 2.9028ms
2024-05-28 13:50:51.897 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:51.898 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 15.8632ms
2024-05-28 13:50:52.615 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:50:52.620 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 885.5648ms
2024-05-28 13:50:52.622 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:52.623 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 910.6103ms
2024-05-28 13:50:54.127 +05:30  INF  Request starting HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - application/json; charset=utf-8 3735
2024-05-28 13:50:54.139 +05:30  INF  Executing endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:54.142 +05:30  INF  Route matched with {action = "Index", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller API.Controllers.PaymentController (API).
2024-05-28 13:50:54.148 +05:30  INF  Executing OkObjectResult, writing value of type 'Application.DTOs.ServiceResponse'.
2024-05-28 13:50:54.150 +05:30  INF  Executed action API.Controllers.PaymentController.Index (API) in 3.4121ms
2024-05-28 13:50:54.151 +05:30  INF  Executed endpoint 'API.Controllers.PaymentController.Index (API)'
2024-05-28 13:50:54.152 +05:30  INF  Request finished HTTP/1.1 POST https://localhost:7220/api/Payment/webHook - 200 null application/json; charset=utf-8 25.0719ms
2024-05-28 15:23:32.564 +05:30  INF  User profile is available. Using 'C:\Users\iTela\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-28 15:23:32.871 +05:30  INF  Now listening on: https://localhost:7220
2024-05-28 15:23:32.875 +05:30  INF  Now listening on: http://localhost:5016
2024-05-28 15:23:32.882 +05:30  INF  Application started. Press Ctrl+C to shut down.
2024-05-28 15:23:32.886 +05:30  INF  Hosting environment: Development
2024-05-28 15:23:32.888 +05:30  INF  Content root path: C:\Users\iTela\Documents\Assignment\sample project structure\ShoppingApp\API
2024-05-28 15:23:36.824 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/index.html - null null
2024-05-28 15:23:37.152 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/index.html - 200 null text/html;charset=utf-8 337.488ms
2024-05-28 15:23:37.171 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_vs/browserLink - null null
2024-05-28 15:23:37.171 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - null null
2024-05-28 15:23:37.186 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_framework/aspnetcore-browser-refresh.js - 200 13742 application/javascript; charset=utf-8 14.5387ms
2024-05-28 15:23:37.223 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.1956ms
2024-05-28 15:23:37.275 +05:30  INF  Request starting HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - null null
2024-05-28 15:23:37.435 +05:30  INF  Request finished HTTP/2 GET https://localhost:7220/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.2211ms
